
# План испытаний и демонстрационные сценарии — WebLoadTester

**Версия:** v1.7 03.02.2026

**Назначение:** закрепляет проверки для приёмки и демонстрации.  
**См. также:** [01_CANON.md](01_CANON.md), [02_TECH_SPEC.md](02_TECH_SPEC.md), [07_TRACEABILITY.md](07_TRACEABILITY.md).

## 0. Назначение
План испытаний фиксирует набор проверок, которые:
- подтверждают критерии приёмки (см. `01_CANON.md`),
- служат демонстрационным материалом для защиты ВКР.

---

## 1. Общие испытания (для всего приложения)
1) Создание RunId и папки `runs/<runId>/` для любого запуска.
2) Формирование `report.json` при любом исходе (Ok/Failed).
3) Запись прогона в SQLite и отображение в «Прогоны».
4) Отмена/останов прогона (Stop/Cancel) без зависания UI.
5) Telegram выключен → никаких попыток отправки.
6) Telegram включен, но не настроен → предупреждение, прогон не падает.

---

## 2. Испытания по модулям (минимальный набор)
### A1 UiScenario
- Сценарий: Navigate → WaitForSelector → Click → AssertText.
- Ожидаемо: Success для всех шагов; при ошибке — скриншот (OnError).

### A2 UiSnapshot
- Сценарий: открыть список URL и снять скриншоты.
- Ожидаемо: папка screenshots заполнена; report содержит ссылки.

### A3 UiTiming
- Сценарий: измерить время загрузки страницы 10 итераций.
- Ожидаемо: метрики avg/p95/p99 заполнены.

### B1 HttpFunctional
- Сценарий: GET/HEAD endpoint, ожидаемый статус 200.
- Негатив: endpoint возвращает 500 → фиксируется failure.

### B2 HttpPerformance
- Iterations: 30; Parallelism: 3.
- Ожидаемо: метрики latency и суммарная длительность.

### B3 HttpAssets
- Сценарий: список статических ресурсов (css/js/img) и проверка 200.

### C1 NetDiagnostics
- Сценарий: DNS ok, TCP ok, TLS ok.
- Негатив: неверный hostname → DNS fail.

### C2 Availability
- Сценарий: проверка доступности (ping/HTTP) 10 итераций.

### C3 SecurityBaseline
- Сценарий: наличие HTTPS редиректа, проверка security headers.

### C4 Preflight
- Сценарий: запуск любого тяжёлого модуля с включенным Preflight.
- Ожидаемо: preflight запускается первым и пишет результаты.

---

## 3. Демонстрационные кейсы для защиты ВКР
1) «Не открывается из сети» → C1/C2 локализуют уровень (DNS/TCP/TLS).
2) «TLS сертификат истёк» → C1 показывает причину.
3) «Медленно грузится UI» → A3 фиксирует метрики.
4) «API отдаёт 500» → B1 фиксирует 5xx и детали.

---

## 4. Артефакты для показа
- `report.json` (всегда)
- `report.html` (если включено)
- `logs/run.log`
- `screenshots/*` (UI модули и/или OnError)

---

## Связанные файлы / входы / выходы
- Входы: критерии приёмки из `01_CANON.md`.
- Выходы: чек-листы для `07_TRACEABILITY.md` и демонстраций.
